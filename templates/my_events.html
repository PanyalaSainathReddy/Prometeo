{% extends 'base.html' %} {% load static %} {% block title %}
My Events
{% endblock %} {% block head_links %}
<!-- header links -->
{% endblock %} {% block style %}
<link href="{% static 'css/my_events.css' %}" rel="stylesheet" />

{% endblock %} {% block content %}

<div class="mainDiv">
  {% for category in categories %}
      <div class="section-header" data-aos="fade-up">
        <h2>{{category}}</h2>
      </div>
      {% for team in my_teams %}
        {% if team.event.type == category %}
          <div class="teamCard" data-aos="fade-down">
            <div class="row">
              <div class="col-lg-4">
                <img src="{{ team.event.image.url }}" alt="Sponser" width="100%" height="270px">
              </div>
              <div style="margin: auto 0px;" class="col-lg-8">
                <h4 style="font-size: 1.8rem; font-weight: 500; color: white;">{{ team.event.name }}</h4>
                  <div class="d-flex">
                    <p style="color: white; padding: 1px 9px; margin-right: 10px; border: 1px solid white; border-radius: 3px; font-size: 0.75rem;">{{team.event.date}} | {{team.event.time}}</p>
                    {% if request.user == team.leader %}
                    <p style="color: white; padding: 1px 9px; margin-right: 10px; border: 1px solid white; border-radius: 3px; font-size: 0.75rem;">Leader</p>
                    {% endif %}
                    <p style="color: white; padding: 1px 9px; margin-right: 10px; border: 1px solid white; border-radius: 3px; font-size: 0.75rem;">{{team.pk}}</p>
                  </div>
                  <p style="color: white;">{{team.event.description}}</p>
                  <div class="d-flex">
                    {% if team.event.min_team_size > team.members.count %}
                      <p style="color: red; padding: 1px 9px; border: 1px solid red; border-radius: 3px; font-size: 0.75rem; font-weight: bold;">Add more members in your team</p>
                    {% else %}
                      <p style="color: green; padding: 1px 9px; border: 1px solid green; border-radius: 3px; font-size: 0.75rem; font-weight: bold;">Team is eligible</p>
                    {% endif %}
                  </div>
                  <div class="d-flex">
                    <a class="btn btn-sm btn-outline-light" href="/events/{{team.event.type}}/{{team.event.pk}}">More Info</a>
                    {% if request.user == team.leader %}
                      <a class="btn btn-sm btn-outline-light mx-2" href="/users/edit_team/{{team.pk}}">Edit Team</a>
                    {% endif %}
                  </div>
              </div>
            </div>
          </div>
        {% endif %}
      {% endfor %}
  {% endfor %}

</div>

{% endblock %} {% block scripts %}
<!-- import js files or write js code-->
{% endblock %}